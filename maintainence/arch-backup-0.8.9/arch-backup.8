.\" Text automatically generated by txt2man
.TH arch-backup 8 "20 Август 2011" "0.8.9" ""
.SH NAME
\fB
\fBarch-backup \fP- simple backup script
\fB
.SH SYNOPSIS
.nf
.fam C

  \fBarch-backup\fP [\fB-c\fP | [\fIbackup-config1\fP [\fIbackup-config2\fP [\.\.\.]]]]

.fam T
.fi
.fam T
.fi
.SH DESCRIPTION

\fBarch-backup\fP do following:
.IP \(bu 3
reads main config (/etc/\fBarch-backup\fP/arch-backup.conf)
.IP \(bu 3
executes backup for all configs included in command line or in BACKUP variable
from main config if no command line parameters given. config search directory is
/etc/\fBarch-backup\fP by default.
.PP
There are three types of backup configurations:
.IP \(bu 3
localhost
.IP \(bu 3
through SSH
.IP \(bu 3
through Samba
.SH OPTIONS
\fB-c\fP - check ~/.backup-list. Prints out missing files and directories listed in ~/.backup-list.
.SH LOCALHOST BACKUP

TYPE = "local" - localhost type
.PP
USERS = ("root" "user") - user list to backup. .backup-list file with file and dir list should be placed
in ~root/ and ~user/ directories. One path per line.
.PP
PACKAGES = "pacman" - type of package manager to backup installed packages list.
.PP
DIRS = ("/etc" "/opt/mydir") - list of system-wide dirs to backup.
.PP
AFTER_BACKUP = "/bin/true" - execute this command before backup
.PP
BEFORE_BACKUP = "/bin/true" - execute this command after backup
.PP
COMMANDS = ("file-name" "mysqldump dbname") - dump output of
mysqldump command into file-name file.
.RE
.PP

.SH SSH BACKUP

SSH config is like localhost, but have additional parameters:
.PP
HOST="myserver" - host to connect with SSH
.PP
SSH_USER="root" - SSH username
.PP
SSH_KEY="/path/to/private/key" - SSH key to authorize
.RE
.PP

.SH SAMBA BACKUP

Samba config is like localhost, but have additional parameters:
.PP
HOST="myserver" - host to connect with Samba
.PP
SMB_USER="root" - Samba username
.PP
SMB_PASSWD="password" - Samba password to authorize
.SH EXAMPLES
Backup all:
\fBarch-backup\fP
.PP
Backup only localhost and myserver according to /etc/\fBarch-backup\fP/localhost and
/etc/\fBarch-backup\fP/myserver:
\fBarch-backup\fP localhost myserver
.SH SEE ALSO
\fBssh\fP(1), \fBtar\fP(1)
.SH AUTHOR
Sergej Pupykin <pupykins@gmail.com>
